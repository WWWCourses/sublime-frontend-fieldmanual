!function(){"use strict";var t=angular.module("sticky",[]);t.directive("sticky",["$window",function(t){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(e,s,o){function n(e){return"true"===e?t.innerHeight-(s[0].offsetHeight+parseInt(z))<0:!1}function i(t,e,s){var o="top",n=Math.abs(t-e),i=Math.abs(t-s);return n>i&&(o="bottom"),o}function r(t){s.attr("style",I),g=!1,k.removeClass(y),s.removeClass(b),s.removeClass(b),s.addClass(v),"top"===t?s.css("z-index",10).css("width",s[0].offsetWidth).css("top",W.top).css("position",W.position).css("left",W.cssLeft).css("margin-top",W.marginTop).css("height",W.height):"bottom"===t&&M===!0&&s.css("z-index",10).css("width",s[0].offsetWidth).css("top","").css("bottom",0).css("position","absolute").css("left",W.cssLeft).css("margin-top",W.marginTop).css("margin-bottom",W.marginBottom).css("height",W.height),u&&t===H&&u.remove()}function c(t){g=!0,W.offsetWidth=s[0].offsetWidth,k.addClass(y),s.removeClass(v),s.addClass(b),T&&t===H&&(u=angular.element("<div>"),u.css("height",s[0].offsetHeight+"px"),s.after(u)),s.css("z-index","10").css("width",s[0].offsetWidth+"px").css("position","fixed").css("left",s.css("left").replace("px","")+"px").css(H,z+a(w)+"px").css("margin-top",0),"bottom"===H&&s.css("margin-bottom",0)}function a(t){var e=0;return t.getBoundingClientRect&&(e=t.getBoundingClientRect().top),e}function f(){var t;return t="undefined"!=typeof w.scrollTop?w.scrollTop:"undefined"!=typeof w.pageYOffset?w.pageYOffset:document.documentElement.scrollTop}function l(){var e;return e=C[0]instanceof HTMLElement?t.getComputedStyle(C[0],null).getPropertyValue("height").replace(/px;?/,""):t.innerHeight,parseInt(e)||0}function d(){var e=o.mediaQuery||!1,s=t.matchMedia;return e&&!(s("("+e+")").matches||s(e).matches)}var p,m,u,h,g=!1,b=o.stickyClass||"",v=o.unstickyClass||"",y=o.bodyClass||"",w=document.getElementsByTagName("sticky-scroll")[0]||t,x=angular.element(t),C=angular.element(w),k=angular.element(document.body),T="false"!==o.usePlaceholder,H="bottom"===o.anchor?"bottom":"top",M="true"===o.confine,z=o.offset?parseInt(o.offset.replace(/px;?/,"")):0,I=s.attr("style")||"",W={zIndex:s.css("z-index"),top:s.css("top"),position:s.css("position"),marginTop:s.css("margin-top"),marginBottom:s.css("margin-bottom"),cssLeft:s.css("left"),height:s.css("height")},B=function(){C.on("scroll",L),x.on("resize",e.$apply.bind(e,E)),e.$on("$destroy",$)},L=function(){if((e.disabled===!0||d())&&g)return r();var t,l=f()-(document.documentElement.clientTop||0);t="top"===H?M===!0?l>p&&m>=l:l>p:p>=l;var u=i(l,p,m);!t||n(o.stickLimit)||g?!t&&g?r(u,l):M&&!t&&"bottom"===u&&"absolute"!==s.css("position")&&(h=a(s[0]),r(u,l)):c(u)},$=function(){C.off("scroll",L),x.off("resize",E),k.removeClass(y),u&&u.remove()},E=function(){r(H),L()},P=function(){return e.disabled===!0?r():"top"===H?(h||a(s[0]))-a(w)+f():a(s[0])-l()+s[0].offsetHeight+f()},O=function(t,e){if((t!==e||"undefined"==typeof p)&&!g){p=t-z,M&&s.parent().css({position:"relative"});var o=s.parent()[0],n=parseInt(o.offsetHeight)-(T?0:s[0].offsetHeight),i=parseInt(s.css("margin-bottom").replace(/px;?/,""))||0,r=a(s[0]),c=a(o),l=a(w),d=r-l,u=c+n-r;m=d+u-s[0].offsetHeight-i-z+ +f(),L()}};e.$watch(P,O),B()}}}]),window.matchMedia=window.matchMedia||function(){var t="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(t),function(){return{matches:!0}}}()}();